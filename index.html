<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>S15 åŸç”» + ç‚«ç¥è§£è¯´</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
  /* å…¨å±€é‡ç½®ï¼šç§»é™¤é»˜è®¤è¾¹è·ã€è®¾ç½®ç›’æ¨¡å‹ */
  *{margin:0;padding:0;box-sizing:border-box}
  
  /* é¡µé¢ä¸»ä½“ï¼šæš—è‰²èƒŒæ™¯ã€ç™½è‰²æ–‡å­—ã€å‚ç›´å¸ƒå±€å¡«æ»¡å±å¹• */
  body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial;background:#000;color:#eee;height:100vh;display:flex;flex-direction:column}
  
  /* é¡¶éƒ¨æ ‡é¢˜æ ï¼šæ·±ç°èƒŒæ™¯ã€æ°´å¹³å¸ƒå±€ */
  header{background:#18181b;padding:10px 15px;font-size:14px;display:flex;align-items:center;gap:10px}
  
  /* LIVE çº¢è‰²æ ‡ç­¾ */
  .live{background:#ff4655;color:#fff;padding:2px 8px;border-radius:4px;font-weight:700;font-size:12px}
  
  /* è¿æ¥çŠ¶æ€æŒ‡ç¤ºå™¨ */
  .status{
    display:flex;
    align-items:center;
    gap:6px;
    margin-left:auto; /* æ¨åˆ°å³ä¾§ */
    font-size:12px;
    padding:4px 10px;
    border-radius:4px;
    background:rgba(255,255,255,.1);
  }
  /* çŠ¶æ€æŒ‡ç¤ºç¯ */
  .dot{
    width:8px;
    height:8px;
    border-radius:50%;
    background:#666;
    animation:pulse 1.5s ease-in-out infinite; /* é»˜è®¤ç°è‰²è„‰åŠ¨ */
  }
  .dot.loading{background:#ffa500} /* æ©™è‰²=è¿æ¥ä¸­ */
  .dot.success{background:#0f0;animation:none} /* ç»¿è‰²=å·²è¿æ¥ */
  .dot.error{background:#f00;animation:blink 1s infinite} /* çº¢è‰²=å¤±è´¥ */
  
  @keyframes pulse{
    0%,100%{opacity:.4}
    50%{opacity:1}
  }
  @keyframes blink{
    0%,100%{opacity:1}
    50%{opacity:.3}
  }
  
  /* ä¸»å†…å®¹åŒºï¼šå æ®å‰©ä½™ç©ºé—´ã€æ¨ªå‘æ’åˆ— */
  .box{flex:1;display:flex;gap:8px;padding:8px}
  
  /* iframe å…¨å®½é«˜ã€æ— è¾¹æ¡† */
  iframe{width:100%;height:100%;border:0}
  
  /* ğŸ†• éŸ³é‡æ§åˆ¶æµ®çª—ï¼šå¯æ‹–åŠ¨ã€å¯æŠ˜å  */
  .ctrl{
    position:fixed;
    bottom:15px;
    right:15px;
    background:rgba(0,0,0,.85);
    border-radius:8px;
    font-size:13px;
    box-shadow:0 4px 12px rgba(0,0,0,.5);
    min-width:200px;
    user-select:none; /* æ‹–åŠ¨æ—¶é˜²æ­¢é€‰ä¸­æ–‡å­— */
  }
  
  /* ğŸ†• æ ‡é¢˜æ ï¼šå¯æ‹–åŠ¨åŒºåŸŸ */
  .ctrl-header{
    display:flex;
    align-items:center;
    justify-content:space-between;
    padding:8px 12px;
    background:rgba(255,255,255,.1);
    border-radius:8px 8px 0 0;
    cursor:move; /* é¼ æ ‡æŒ‡é’ˆæ˜¾ç¤ºä¸ºå¯ç§»åŠ¨ */
    border-bottom:1px solid rgba(255,255,255,.1);
  }
  
  .ctrl-title{
    font-weight:600;
    font-size:12px;
    display:flex;
    align-items:center;
    gap:6px;
  }
  
  /* ğŸ†• æŠ˜å æŒ‰é’® */
  .ctrl-toggle{
    cursor:pointer;
    padding:2px 6px;
    border-radius:4px;
    transition:background .2s;
    font-size:16px;
    line-height:1;
  }
  .ctrl-toggle:hover{
    background:rgba(255,255,255,.2);
  }
  
  /* ğŸ†• å†…å®¹åŒºï¼šå¯æŠ˜å  */
  .ctrl-content{
    padding:12px 15px;
    display:flex;
    align-items:center;
    gap:10px;
    transition:all .3s ease; /* æŠ˜å åŠ¨ç”» */
    overflow:hidden;
  }
  
  /* ğŸ†• æŠ˜å çŠ¶æ€ */
  .ctrl.collapsed .ctrl-content{
    padding:0;
    height:0;
    opacity:0;
  }
  
  .ctrl.collapsed .ctrl-toggle{
    transform:rotate(180deg); /* ç®­å¤´ç¿»è½¬ */
  }
  
  .ctrl label{margin:0}
  input[type=range]{
    width:100px;
    flex:1;
  }
  
  /* ğŸ†• æ‹–åŠ¨æ—¶çš„è§†è§‰åé¦ˆ */
  .ctrl.dragging{
    opacity:.8;
    cursor:move;
  }
</style>
</head>
<body>

<header>
  <span class="live">LIVE</span>
  <span>S15 å®˜æ–¹ç”»é¢ + Lastç‚«ç¥è§£è¯´</span>
  
  <!-- è¿æ¥çŠ¶æ€æ˜¾ç¤º -->
  <div class="status">
    <span class="dot loading" id="statusDot"></span>
    <span id="statusText">è¿æ¥ç‚«ç¥ç›´æ’­é—´...</span>
  </div>
</header>

<section class="box">
  <!-- 1. å®˜æ–¹æ¯”èµ›ç”»é¢ï¼ˆé™éŸ³ï¼‰ -->
  <iframe id="video"
          src="https://www.bilibili.com/blackboard/live/live-activity-player.html?cid=7734200&quality=1"
          allow="autoplay; encrypted-media">
  </iframe>

  <!-- 2. ç‚«ç¥è§£è¯´éŸ³é¢‘ï¼ˆéšè— iframeï¼Œåªæ’­æ”¾å£°éŸ³ï¼‰ -->
  <iframe id="audio"
          src="https://www.bilibili.com/blackboard/live/live-activity-player.html?cid=84074&quality=1"
          style="width:1px;height:1px;position:absolute;left:-9999px">
  </iframe>
</section>

<!-- ğŸ†• å¯æŠ˜å ã€å¯æ‹–åŠ¨çš„éŸ³é‡æ§åˆ¶é¢æ¿ -->
<div class="ctrl" id="ctrlPanel">
  <!-- æ ‡é¢˜æ ï¼šæ‹–åŠ¨æ‰‹æŸ„ -->
  <div class="ctrl-header" id="ctrlHeader">
    <div class="ctrl-title">
      ğŸ™ï¸ è§£è¯´éŸ³é‡
    </div>
    <span class="ctrl-toggle" id="ctrlToggle">â–¼</span>
  </div>
  
  <!-- å†…å®¹åŒºï¼šå¯æŠ˜å  -->
  <div class="ctrl-content">
    <label>éŸ³é‡</label>
    <input type="range" id="vol" min="0" max="100" value="70">
    <span id="vl">70%</span>
  </div>
</div>

<script>
// ========== 1. éŸ³é‡æ§åˆ¶ï¼ˆUI å±‚é¢ï¼‰ ==========
const vol = document.getElementById('vol');
const vl  = document.getElementById('vl');
const aFrame = document.getElementById('audio');

vol.oninput = () => {
  vl.textContent = vol.value + '%';
  // âš ï¸ è·¨åŸŸé™åˆ¶æ— æ³•ç›´æ¥æ§åˆ¶ iframe å†…è§†é¢‘
};

// ========== 2. æ£€æµ‹ç‚«ç¥ç›´æ’­é—´è¿æ¥çŠ¶æ€ ==========
const statusDot = document.getElementById('statusDot');
const statusText = document.getElementById('statusText');

aFrame.onload = () => {
  statusDot.className = 'dot success';
  statusText.textContent = 'ç‚«ç¥ç›´æ’­é—´å·²è¿æ¥ âœ“';
};

aFrame.onerror = () => {
  statusDot.className = 'dot error';
  statusText.textContent = 'è¿æ¥å¤±è´¥ï¼';
};

let loadTimer = setTimeout(() => {
  if (statusDot.className === 'dot loading') {
    statusDot.className = 'dot error';
    statusText.textContent = 'è¿æ¥è¶…æ—¶';
  }
}, 10000);

aFrame.addEventListener('load', () => {
  clearTimeout(loadTimer);
});

// ========== ğŸ†• 3. é¢æ¿æŠ˜å åŠŸèƒ½ ==========
const ctrlPanel = document.getElementById('ctrlPanel');
const ctrlToggle = document.getElementById('ctrlToggle');

// ç‚¹å‡»æŠ˜å /å±•å¼€æŒ‰é’®
ctrlToggle.onclick = (e) => {
  e.stopPropagation(); // é˜»æ­¢äº‹ä»¶å†’æ³¡ï¼ˆé¿å…è§¦å‘æ‹–åŠ¨ï¼‰
  ctrlPanel.classList.toggle('collapsed'); // åˆ‡æ¢ collapsed ç±»
};

// ========== ğŸ†• 4. é¢æ¿æ‹–åŠ¨åŠŸèƒ½ ==========
const ctrlHeader = document.getElementById('ctrlHeader');

// æ‹–åŠ¨çŠ¶æ€å˜é‡
let isDragging = false;  // æ˜¯å¦æ­£åœ¨æ‹–åŠ¨
let startX = 0;          // é¼ æ ‡èµ·å§‹ X åæ ‡
let startY = 0;          // é¼ æ ‡èµ·å§‹ Y åæ ‡
let offsetX = 0;         // é¢æ¿åˆå§‹ X åç§»
let offsetY = 0;         // é¢æ¿åˆå§‹ Y åç§»

// é¼ æ ‡æŒ‰ä¸‹ï¼šå¼€å§‹æ‹–åŠ¨
ctrlHeader.onmousedown = (e) => {
  isDragging = true;
  ctrlPanel.classList.add('dragging');
  
  // è®°å½•é¼ æ ‡èµ·å§‹ä½ç½®
  startX = e.clientX;
  startY = e.clientY;
  
  // è·å–é¢æ¿å½“å‰ä½ç½®
  const rect = ctrlPanel.getBoundingClientRect();
  offsetX = rect.left;
  offsetY = rect.top;
  
  // é˜»æ­¢é»˜è®¤è¡Œä¸ºï¼ˆé¿å…é€‰ä¸­æ–‡å­—ï¼‰
  e.preventDefault();
};

// é¼ æ ‡ç§»åŠ¨ï¼šå®æ—¶æ›´æ–°é¢æ¿ä½ç½®
document.onmousemove = (e) => {
  if (!isDragging) return;
  
  // è®¡ç®—é¼ æ ‡ç§»åŠ¨è·ç¦»
  const deltaX = e.clientX - startX;
  const deltaY = e.clientY - startY;
  
  // è®¡ç®—æ–°ä½ç½®
  let newLeft = offsetX + deltaX;
  let newTop = offsetY + deltaY;
  
  // ğŸ†• è¾¹ç•Œé™åˆ¶ï¼šé˜²æ­¢æ‹–å‡ºå±å¹•
  const maxX = window.innerWidth - ctrlPanel.offsetWidth;
  const maxY = window.innerHeight - ctrlPanel.offsetHeight;
  
  newLeft = Math.max(0, Math.min(newLeft, maxX));
  newTop = Math.max(0, Math.min(newTop, maxY));
  
  // åº”ç”¨æ–°ä½ç½®ï¼ˆåˆ‡æ¢ä¸º left/top å®šä½ï¼‰
  ctrlPanel.style.left = newLeft + 'px';
  ctrlPanel.style.top = newTop + 'px';
  ctrlPanel.style.right = 'auto';  // å–æ¶ˆ right å®šä½
  ctrlPanel.style.bottom = 'auto'; // å–æ¶ˆ bottom å®šä½
};

// é¼ æ ‡æ¾å¼€ï¼šç»“æŸæ‹–åŠ¨
document.onmouseup = () => {
  if (isDragging) {
    isDragging = false;
    ctrlPanel.classList.remove('dragging');
  }
};

// ğŸ†• è§¦æ‘¸è®¾å¤‡æ”¯æŒï¼ˆç§»åŠ¨ç«¯æ‹–åŠ¨ï¼‰
ctrlHeader.ontouchstart = (e) => {
  const touch = e.touches[0];
  isDragging = true;
  startX = touch.clientX;
  startY = touch.clientY;
  
  const rect = ctrlPanel.getBoundingClientRect();
  offsetX = rect.left;
  offsetY = rect.top;
  
  e.preventDefault();
};

document.ontouchmove = (e) => {
  if (!isDragging) return;
  
  const touch = e.touches[0];
  const deltaX = touch.clientX - startX;
  const deltaY = touch.clientY - startY;
  
  let newLeft = offsetX + deltaX;
  let newTop = offsetY + deltaY;
  
  const maxX = window.innerWidth - ctrlPanel.offsetWidth;
  const maxY = window.innerHeight - ctrlPanel.offsetHeight;
  
  newLeft = Math.max(0, Math.min(newLeft, maxX));
  newTop = Math.max(0, Math.min(newTop, maxY));
  
  ctrlPanel.style.left = newLeft + 'px';
  ctrlPanel.style.top = newTop + 'px';
  ctrlPanel.style.right = 'auto';
  ctrlPanel.style.bottom = 'auto';
};

document.ontouchend = () => {
  isDragging = false;
};

// ========== 5. é¡µé¢åŠ è½½å®Œæˆæç¤º ==========
window.onload = () => {
  setTimeout(() => {
    alert(
      'ä½¿ç”¨è¯´æ˜ï¼š\n' +
      '1. åœ¨å·¦ä¾§å®˜æ–¹ç”»é¢ç‚¹å‡»å³ä¸Šè§’ã€Œé™éŸ³ã€å›¾æ ‡ï¼›\n' +
      '2. å³ä¾§è§£è¯´å°çª—å·²éšè—ï¼Œä¼šè‡ªåŠ¨å‡ºå£°ï¼›\n' +
      '3. éšæ—¶å¯æ¢ cid å€¼æ¥åˆ‡æ¢ç›´æ’­é—´ï¼›\n' +
      '4. æŸ¥çœ‹å³ä¸Šè§’è¿æ¥çŠ¶æ€æŒ‡ç¤ºç¯ï¼›\n' +
      'ğŸ†• 5. å³ä¸‹è§’é¢æ¿å¯æ‹–åŠ¨ç§»åŠ¨ã€ç‚¹å‡»ç®­å¤´å¯æŠ˜å ï¼'
    );
  }, 1500);
};
</script>
</body>
</html>
